(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const u="/Vietri-BoardGame/assets/Mosa1-6wzlCEYZ.png",_="/Vietri-BoardGame/assets/Mosa2-DLN09Gu7.png",m="/Vietri-BoardGame/assets/Mosa3-C4Q1dCvZ.png",v="/Vietri-BoardGame/assets/Mosa4-BR-3HScg.png",b="/Vietri-BoardGame/assets/Mosa5-BEmcuxwC.png",f="/Vietri-BoardGame/assets/Mosa6-BvYMt0D-.png",y="/Vietri-BoardGame/assets/Mosa7-CvwcmmhG.png",B="/Vietri-BoardGame/assets/Mosa8-CKmmbAEO.png",w="/Vietri-BoardGame/assets/Mosa9-BEVNXZX_.png",V="/Vietri-BoardGame/assets/Piatto1-B-l737ww.png",x="/Vietri-BoardGame/assets/Piatto10-DGVY582T.png",C="/Vietri-BoardGame/assets/Piatto2-BE_ot0ue.png",G="/Vietri-BoardGame/assets/Piatto3-Bc3NalGJ.png",h="/Vietri-BoardGame/assets/Piatto4-BItVmSTo.png",I="/Vietri-BoardGame/assets/Piatto5-BPXLBkhv.png",M="/Vietri-BoardGame/assets/Piatto6-BKg4IBKf.png",L="/Vietri-BoardGame/assets/Piatto7-DwDqGfeN.png",S="/Vietri-BoardGame/assets/Piatto8-DnFDXOfN.png",E="/Vietri-BoardGame/assets/Piatto9-C_rqJx_g.png",P="/Vietri-BoardGame/assets/Scultura1-CiBpjHHP.png",T="/Vietri-BoardGame/assets/Scultura10-B_GoaBma.png",D="/Vietri-BoardGame/assets/Scultura11-Cpi7pn1A.png",H="/Vietri-BoardGame/assets/Scultura12-yqUkU_jm.png",N="/Vietri-BoardGame/assets/Scultura2-B3W5BzBI.png",$="/Vietri-BoardGame/assets/Scultura3-CZ-Me8v8.png",O="/Vietri-BoardGame/assets/Scultura4-ClBZYDlI.png",k="/Vietri-BoardGame/assets/Scultura5-BkXr_PSy.png",j="/Vietri-BoardGame/assets/Scultura6-CD9AhHhe.png",F="/Vietri-BoardGame/assets/Scultura7-CTYtO0-C.png",q="/Vietri-BoardGame/assets/Scultura8-QZ0FFsYA.png",A="/Vietri-BoardGame/assets/Scultura9-CJB7jnJ8.png",J="/Vietri-BoardGame/assets/Vaso1-BP5xN2HQ.png",Z="/Vietri-BoardGame/assets/Vaso10-DXnOyM5V.png",R="/Vietri-BoardGame/assets/Vaso2-ClF1cQ7t.png",Q="/Vietri-BoardGame/assets/Vaso3-Dnjf2k7L.png",z="/Vietri-BoardGame/assets/Vaso4-C4bs6DoM.png",X="/Vietri-BoardGame/assets/Vaso5-B7PDMIFr.png",Y="/Vietri-BoardGame/assets/Vaso6-DlJi92nV.png",K="/Vietri-BoardGame/assets/Vaso7-cg9sxZ8X.png",W="/Vietri-BoardGame/assets/Vaso8-CWVvqVYn.png",U="/Vietri-BoardGame/assets/Vaso9-Bc90k2gk.png",c=Object.assign({"./opere/Mosa1.png":u,"./opere/Mosa2.png":_,"./opere/Mosa3.png":m,"./opere/Mosa4.png":v,"./opere/Mosa5.png":b,"./opere/Mosa6.png":f,"./opere/Mosa7.png":y,"./opere/Mosa8.png":B,"./opere/Mosa9.png":w,"./opere/Piatto1.png":V,"./opere/Piatto10.png":x,"./opere/Piatto2.png":C,"./opere/Piatto3.png":G,"./opere/Piatto4.png":h,"./opere/Piatto5.png":I,"./opere/Piatto6.png":M,"./opere/Piatto7.png":L,"./opere/Piatto8.png":S,"./opere/Piatto9.png":E,"./opere/Scultura1.png":P,"./opere/Scultura10.png":T,"./opere/Scultura11.png":D,"./opere/Scultura12.png":H,"./opere/Scultura2.png":N,"./opere/Scultura3.png":$,"./opere/Scultura4.png":O,"./opere/Scultura5.png":k,"./opere/Scultura6.png":j,"./opere/Scultura7.png":F,"./opere/Scultura8.png":q,"./opere/Scultura9.png":A,"./opere/Vaso1.png":J,"./opere/Vaso10.png":Z,"./opere/Vaso2.png":R,"./opere/Vaso3.png":Q,"./opere/Vaso4.png":z,"./opere/Vaso5.png":X,"./opere/Vaso6.png":Y,"./opere/Vaso7.png":K,"./opere/Vaso8.png":W,"./opere/Vaso9.png":U});function ee(){const e=document.getElementById("img-select");e.innerHTML='<option value="preview.png">preview.png</option>',Object.keys(c).sort().forEach(t=>{const r=c[t],s=t.split("/").pop(),o=document.createElement("option");o.value=r,o.textContent=s,e.appendChild(o)})}const n={id:Date.now(),img:"preview.png",gray:1,colors:[{type:"red",count:2},{type:"yellow",count:1}],coins:3,borderColor:"#0047AB"};let a=[];function te(e,t){let r="";return e>0&&(r+=d("gray",e)),t.forEach(s=>r+=d(s.type,s.count)),r}function d(e,t){return`
            <div class="req-row">
                <div class="cube cube-${e}"></div>
                <span class="text-xs text-gray-400 mx-2">x</span>
                <span class="text-xl font-bold font-mono">${t}</span>
            </div>`}function g(e){return`
            <div class="card-white-border transform transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl">
                <div class="maiolica-border" style="${`border-color: ${e.borderColor}; background-image: linear-gradient(45deg, ${e.borderColor} 25%, transparent 25%, transparent 75%, ${e.borderColor} 75%, ${e.borderColor}), linear-gradient(45deg, ${e.borderColor} 25%, transparent 25%, transparent 75%, ${e.borderColor} 75%, ${e.borderColor});`}">
                    <div class="card-inner-box">
                         <!-- LEFT -->
                         <div class="section-left">
                             <div class="text-xs font-bold text-gray-400 uppercase tracking-tight mb-2 text-center w-full">Richiesto</div>
                             <div class="flex flex-col gap-1 w-full pl-2">
                                 ${te(e.gray,e.colors)}
                             </div>
                             <div class="mt-auto pt-3 border-t-2 border-dotted border-gray-300 w-full text-center">
                                 <div class="text-[10px] uppercase text-gray-400 font-bold mb-0">Valore</div>
                                 <div class="coin-reward">
                                     <span>${e.coins}</span> <span class="text-2xl">üí∞</span>
                                 </div>
                             </div>
                         </div>
                         <!-- RIGHT -->
                         <div class="section-right">
                             <div class="absolute inset-0 opacity-[0.03]" style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIiBmaWxsPSIjMDA0N0FCIj48cGF0aCBkPSJNMjAgMEwyMCA0ME0wIDIwTDQwIDIweiIvPjwvc3ZnPg==')"></div>
                             <img src="${e.img}" class="artwork-img relative z-10 rounded-sm" onerror="this.onerror=null; this.src='https://via.placeholder.com/300?text=IMG+NOT+FOUND';">
                         </div>
                    </div>
                </div>
            </div>`}window.render=function(){const e=document.getElementById("color-reqs-container");e.innerHTML="",n.colors.forEach((t,r)=>{e.innerHTML+=`
                 <div class="flex items-center justify-between mb-2 bg-white p-2 border rounded shadow-sm hover:border-blue-300 transition-colors">
                    <div class="flex items-center gap-2">
                        <div class="cube cube-${t.type}"></div>
                        <span class="capitalize text-sm font-medium text-gray-700">${t.type}</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-xs text-gray-400">Qt.</span>
                        <input type="number" value="${t.count}" min="1" class="w-12 p-1 border rounded text-center text-sm font-bold" onchange="updateColorCount(${r}, this.value)">
                        <button onclick="removeColor(${r})" class="w-6 h-6 flex items-center justify-center rounded-full text-gray-400 hover:text-white hover:bg-red-500 font-bold transition-all ml-1">√ó</button>
                    </div>
                </div>`}),document.getElementById("req-gray").value=n.gray,document.getElementById("reward-coins").value=n.coins,document.documentElement.style.setProperty("--vietri-blue",n.borderColor),document.getElementById("preview-container").innerHTML=g(n),document.getElementById("lib-count").innerText=a.length};window.addToLibrary=function(){const e=JSON.parse(JSON.stringify(n));e.id=Date.now(),a.push(e),renderLibraryList();const t=document.querySelector('button[onclick="addToLibrary()"]'),r=t.innerHTML;t.innerHTML="‚úÖ Salvato!",setTimeout(()=>t.innerHTML=r,1e3)};window.removeFromLibrary=function(e){a.splice(e,1),renderLibraryList()};window.loadFromLibrary=function(e){const t=a[e];n.img=t.img,n.gray=t.gray,n.colors=JSON.parse(JSON.stringify(t.colors)),n.coins=t.coins,n.borderColor=t.borderColor||"#0047AB";const r=document.getElementById("img-select");let s=!1;for(let o=0;o<r.options.length;o++)if(r.options[o].value===t.img){r.selectedIndex=o,s=!0;break}s||(r.value="preview.png"),document.getElementById("custom-img").value=t.img,document.getElementById("border-color-picker").value=n.borderColor,render()};window.renderLibraryList=function(){const e=document.getElementById("library-list");if(a.length===0){e.innerHTML='<p class="text-gray-400 text-center text-xs italic">Nessuna carta salvata</p>';return}e.innerHTML="",a.forEach((t,r)=>{const s=t.img.split("/").pop();e.innerHTML+=`
                <div class="flex items-center justify-between bg-blue-50 p-1 rounded border border-blue-100 mb-1">
                    <div class="flex items-center gap-2 overflow-hidden">
                        <div class="w-4 h-4 rounded-full border border-black/10" style="background:${t.borderColor}"></div>
                        <span class="text-xs truncate max-w-[100px] font-bold text-blue-900" title="${t.img}">${s}</span>
                    </div>
                    <div class="flex gap-1">
                        <button onclick="loadFromLibrary(${r})" class="text-[10px] bg-white border border-gray-300 px-1 rounded hover:bg-gray-100" title="Carica">‚úèÔ∏è</button>
                        <button onclick="removeFromLibrary(${r})" class="text-[10px] bg-red-100 text-red-600 border border-red-200 px-1 rounded hover:bg-red-200" title="Elimina">üóëÔ∏è</button>
                    </div>
                </div>`}),document.getElementById("lib-count").innerText=a.length};window.printLibrary=function(){if(a.length===0){alert("La libreria √® vuota! Aggiungi prima delle carte.");return}const e=document.getElementById("print-area");e.innerHTML="",a.forEach(t=>{e.innerHTML+=g(t)}),window.print()};window.updateImg=function(e){n.img=e,render()};window.updateGray=function(e){n.gray=parseInt(e),render()};window.updateCoins=function(e){n.coins=parseInt(e),render()};window.updateBorderColor=function(e){n.borderColor=e,render()};window.addColorReq=function(){const e=document.getElementById("add-color-select").value,t=n.colors.find(r=>r.type===e);t?t.count++:n.colors.push({type:e,count:1}),render()};window.updateColorCount=function(e,t){n.colors[e].count=parseInt(t),render()};window.removeColor=function(e){n.colors.splice(e,1),render()};window.exportConfig=function(){const e=JSON.stringify(n,null,2);navigator.clipboard.writeText(e).then(()=>alert("Configurazione JSON copiata negli appunti!"))};document.getElementById("img-select").addEventListener("change",e=>updateImg(e.target.value));document.getElementById("custom-img").addEventListener("input",e=>{e.target.value?updateImg(e.target.value):updateImg(document.getElementById("img-select").value)});document.getElementById("req-gray").addEventListener("input",e=>updateGray(e.target.value));document.getElementById("reward-coins").addEventListener("input",e=>updateCoins(e.target.value));const p=document.getElementById("border-color-picker");p&&p.addEventListener("input",e=>updateBorderColor(e.target.value));ee();render();renderLibraryList();
