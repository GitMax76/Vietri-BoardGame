(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const w=""+new URL("Mosa1-6wzlCEYZ.png",import.meta.url).href,y=""+new URL("Mosa2-DLN09Gu7.png",import.meta.url).href,h=""+new URL("Mosa3-C4Q1dCvZ.png",import.meta.url).href,L=""+new URL("Mosa4-BR-3HScg.png",import.meta.url).href,x=""+new URL("Mosa5-BEmcuxwC.png",import.meta.url).href,C=""+new URL("Mosa6-BvYMt0D-.png",import.meta.url).href,R=""+new URL("Mosa7-CvwcmmhG.png",import.meta.url).href,B=""+new URL("Mosa8-CKmmbAEO.png",import.meta.url).href,I=""+new URL("Mosa9-BEVNXZX_.png",import.meta.url).href,M=""+new URL("Piatto1-B-l737ww.png",import.meta.url).href,U=""+new URL("Piatto10-DGVY582T.png",import.meta.url).href,S=""+new URL("Piatto2-BE_ot0ue.png",import.meta.url).href,E=""+new URL("Piatto3-Bc3NalGJ.png",import.meta.url).href,P=""+new URL("Piatto4-BItVmSTo.png",import.meta.url).href,V=""+new URL("Piatto5-BPXLBkhv.png",import.meta.url).href,T=""+new URL("Piatto6-BKg4IBKf.png",import.meta.url).href,D=""+new URL("Piatto7-DwDqGfeN.png",import.meta.url).href,H=""+new URL("Piatto8-DnFDXOfN.png",import.meta.url).href,N=""+new URL("Piatto9-C_rqJx_g.png",import.meta.url).href,$=""+new URL("Scultura1-CiBpjHHP.png",import.meta.url).href,O=""+new URL("Scultura10-B_GoaBma.png",import.meta.url).href,F=""+new URL("Scultura11-Cpi7pn1A.png",import.meta.url).href,j=""+new URL("Scultura12-yqUkU_jm.png",import.meta.url).href,k=""+new URL("Scultura2-B3W5BzBI.png",import.meta.url).href,q=""+new URL("Scultura3-CZ-Me8v8.png",import.meta.url).href,A=""+new URL("Scultura4-ClBZYDlI.png",import.meta.url).href,J=""+new URL("Scultura5-BkXr_PSy.png",import.meta.url).href,G=""+new URL("Scultura6-CD9AhHhe.png",import.meta.url).href,Z=""+new URL("Scultura7-CTYtO0-C.png",import.meta.url).href,Q=""+new URL("Scultura8-QZ0FFsYA.png",import.meta.url).href,z=""+new URL("Scultura9-CJB7jnJ8.png",import.meta.url).href,X=""+new URL("Vaso1-BP5xN2HQ.png",import.meta.url).href,Y=""+new URL("Vaso10-DXnOyM5V.png",import.meta.url).href,K=""+new URL("Vaso2-ClF1cQ7t.png",import.meta.url).href,W=""+new URL("Vaso3-Dnjf2k7L.png",import.meta.url).href,ee=""+new URL("Vaso4-C4bs6DoM.png",import.meta.url).href,te=""+new URL("Vaso5-B7PDMIFr.png",import.meta.url).href,oe=""+new URL("Vaso6-DlJi92nV.png",import.meta.url).href,re=""+new URL("Vaso7-cg9sxZ8X.png",import.meta.url).href,ne=""+new URL("Vaso8-CWVvqVYn.png",import.meta.url).href,ie=""+new URL("Vaso9-Bc90k2gk.png",import.meta.url).href,g=Object.assign({"./opere/Mosa1.png":w,"./opere/Mosa2.png":y,"./opere/Mosa3.png":h,"./opere/Mosa4.png":L,"./opere/Mosa5.png":x,"./opere/Mosa6.png":C,"./opere/Mosa7.png":R,"./opere/Mosa8.png":B,"./opere/Mosa9.png":I,"./opere/Piatto1.png":M,"./opere/Piatto10.png":U,"./opere/Piatto2.png":S,"./opere/Piatto3.png":E,"./opere/Piatto4.png":P,"./opere/Piatto5.png":V,"./opere/Piatto6.png":T,"./opere/Piatto7.png":D,"./opere/Piatto8.png":H,"./opere/Piatto9.png":N,"./opere/Scultura1.png":$,"./opere/Scultura10.png":O,"./opere/Scultura11.png":F,"./opere/Scultura12.png":j,"./opere/Scultura2.png":k,"./opere/Scultura3.png":q,"./opere/Scultura4.png":A,"./opere/Scultura5.png":J,"./opere/Scultura6.png":G,"./opere/Scultura7.png":Z,"./opere/Scultura8.png":Q,"./opere/Scultura9.png":z,"./opere/Vaso1.png":X,"./opere/Vaso10.png":Y,"./opere/Vaso2.png":K,"./opere/Vaso3.png":W,"./opere/Vaso4.png":ee,"./opere/Vaso5.png":te,"./opere/Vaso6.png":oe,"./opere/Vaso7.png":re,"./opere/Vaso8.png":ne,"./opere/Vaso9.png":ie});function ae(){const e=document.getElementById("img-select");Object.keys(g).sort().forEach(t=>{const o=g[t],l=t.split("/").pop(),n=document.createElement("option");n.value=o,n.textContent=l,e.appendChild(n)})}const r={id:Date.now(),img:"preview.png",gray:1,colors:[{type:"red",count:2},{type:"yellow",count:1}],coins:3,borderColor:"#0047AB"};let s=[];function le(e,t){let o="";return e>0&&(o+=d("gray",e)),t.forEach(l=>o+=d(l.type,l.count)),o}function d(e,t){return`
            <div class="req-row">
                <div class="cube cube-${e}"></div>
                <span class="text-xs text-gray-400 mx-2">x</span>
                <span class="text-xl font-bold font-mono">${t}</span>
            </div>`}function _(e){return`
            <div class="card-white-border transform transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl">
                <div class="maiolica-border" style="${`border-color: ${e.borderColor}; background-image: linear-gradient(45deg, ${e.borderColor} 25%, transparent 25%, transparent 75%, ${e.borderColor} 75%, ${e.borderColor}), linear-gradient(45deg, ${e.borderColor} 25%, transparent 25%, transparent 75%, ${e.borderColor} 75%, ${e.borderColor});`}">
                    <div class="card-inner-box">
                         <!-- LEFT -->
                         <div class="section-left">
                             <div class="text-xs font-bold text-gray-400 uppercase tracking-tight mb-2 text-center w-full">Richiesto</div>
                             <div class="flex flex-col gap-1 w-full pl-2">
                                 ${le(e.gray,e.colors)}
                             </div>
                             <div class="mt-auto pt-3 border-t-2 border-dotted border-gray-300 w-full text-center">
                                 <div class="text-[10px] uppercase text-gray-400 font-bold mb-0">Valore</div>
                                 <div class="coin-reward">
                                     <span>${e.coins}</span> <span class="text-2xl">üí∞</span>
                                 </div>
                             </div>
                         </div>
                         <!-- RIGHT -->
                         <div class="section-right">
                             <div class="absolute inset-0 opacity-[0.03]" style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIiBmaWxsPSIjMDA0N0FCIj48cGF0aCBkPSJNMjAgMEwyMCA0ME0wIDIwTDQwIDIweiIvPjwvc3ZnPg==')"></div>
                             <img src="${e.img}" class="artwork-img relative z-10 rounded-sm" onerror="this.onerror=null; this.src='https://via.placeholder.com/300?text=IMG+NOT+FOUND';">
                         </div>
                    </div>
                </div>
            </div>`}function a(){const e=document.getElementById("color-reqs-container");e.innerHTML="",r.colors.forEach((t,o)=>{e.innerHTML+=`
                 <div class="flex items-center justify-between mb-2 bg-white p-2 border rounded shadow-sm hover:border-blue-300 transition-colors">
                    <div class="flex items-center gap-2">
                        <div class="cube cube-${t.type}"></div>
                        <span class="capitalize text-sm font-medium text-gray-700">${t.type}</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-xs text-gray-400">Qt.</span>
                        <input type="number" value="${t.count}" min="1" class="w-12 p-1 border rounded text-center text-sm font-bold" onchange="updateColorCount(${o}, this.value)">
                        <button onclick="removeColor(${o})" class="w-6 h-6 flex items-center justify-center rounded-full text-gray-400 hover:text-white hover:bg-red-500 font-bold transition-all ml-1">√ó</button>
                    </div>
                </div>`}),document.getElementById("req-gray").value=r.gray,document.getElementById("reward-coins").value=r.coins,document.documentElement.style.setProperty("--vietri-blue",r.borderColor),document.getElementById("preview-container").innerHTML=_(r),document.getElementById("lib-count").innerText=s.length}function se(){const e=JSON.parse(JSON.stringify(r));e.id=Date.now(),s.push(e),u();const t=document.querySelector('button[onclick="addToLibrary()"]'),o=t.innerHTML;t.innerHTML="‚úÖ Salvato!",setTimeout(()=>t.innerHTML=o,1e3)}function ce(e){s.splice(e,1),u()}function pe(e){const t=s[e];r.img=t.img,r.gray=t.gray,r.colors=JSON.parse(JSON.stringify(t.colors)),r.coins=t.coins,r.borderColor=t.borderColor||"#0047AB";const o=document.getElementById("img-select");o.value=t.img,o.value!==t.img&&(o.value="preview.png"),document.getElementById("custom-img").value=t.img,document.getElementById("border-color-picker").value=r.borderColor,a()}function u(){const e=document.getElementById("library-list");if(s.length===0){e.innerHTML='<p class="text-gray-400 text-center text-xs italic">Nessuna carta salvata</p>';return}e.innerHTML="",s.forEach((t,o)=>{const l=t.img.split("/").pop();e.innerHTML+=`
                <div class="flex items-center justify-between bg-blue-50 p-1 rounded border border-blue-100 mb-1">
                    <div class="flex items-center gap-2 overflow-hidden">
                        <div class="w-4 h-4 rounded-full border border-black/10" style="background:${t.borderColor}"></div>
                        <span class="text-xs truncate max-w-[100px] font-bold text-blue-900" title="${t.img}">${l}</span>
                    </div>
                    <div class="flex gap-1">
                        <button onclick="loadFromLibrary(${o})" class="text-[10px] bg-white border border-gray-300 px-1 rounded hover:bg-gray-100" title="Carica">‚úèÔ∏è</button>
                        <button onclick="removeFromLibrary(${o})" class="text-[10px] bg-red-100 text-red-600 border border-red-200 px-1 rounded hover:bg-red-200" title="Elimina">üóëÔ∏è</button>
                    </div>
                </div>`}),document.getElementById("lib-count").innerText=s.length}function ue(){if(s.length===0){alert("La libreria √® vuota! Aggiungi prima delle carte.");return}const e=document.getElementById("print-area");e.innerHTML="",s.forEach(t=>{e.innerHTML+=_(t)}),window.print()}function c(e){r.img=e,a()}function v(e){r.gray=parseInt(e),a()}function b(e){r.coins=parseInt(e),a()}function f(e){r.borderColor=e,a()}function ge(){const e=document.getElementById("add-color-select").value,t=r.colors.find(o=>o.type===e);t?t.count++:r.colors.push({type:e,count:1}),a()}function de(e,t){r.colors[e].count=parseInt(t),a()}function me(e){r.colors.splice(e,1),a()}function _e(){const e=JSON.stringify(r,null,2);navigator.clipboard.writeText(e).then(()=>alert("Configurazione JSON copiata negli appunti!"))}window.render=a;window.addToLibrary=se;window.removeFromLibrary=ce;window.loadFromLibrary=pe;window.printLibrary=ue;window.updateImg=c;window.updateGray=v;window.updateCoins=b;window.updateBorderColor=f;window.addColorReq=ge;window.updateColorCount=de;window.removeColor=me;window.exportConfig=_e;document.getElementById("img-select").addEventListener("change",e=>c(e.target.value));document.getElementById("custom-img").addEventListener("input",e=>{e.target.value?c(e.target.value):c(document.getElementById("img-select").value)});document.getElementById("req-gray").addEventListener("input",e=>v(e.target.value));document.getElementById("reward-coins").addEventListener("input",e=>b(e.target.value));const m=document.getElementById("border-color-picker");m&&m.addEventListener("input",e=>f(e.target.value));ae();a();u();
